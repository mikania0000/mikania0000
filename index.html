<!DOCTYPE html>
<html>
<head>
    <title>QR Code Scanner</title>
    <!-- 引入instascan的JavaScript庫 -->
    <script src="https://github.com/schmich/instascan"></script>
</head>
<body>
    <h1>QR Code Scanner</h1>
    <!-- 顯示攝像頭畫面的區域 -->
    <video id="preview"></video>
    <!-- 顯示掃描結果的區域 -->
    <div id="result"></div>

    <script>
        // 獲取video元素和結果顯示區域的引用
        let video = document.getElementById('preview');
        let resultDiv = document.getElementById('result');

        // 創建一個Scanner對象
        let scanner = new Instascan.Scanner({ video: video });

        // 監聽掃描到QR Code事件
        scanner.addListener('scan', function (content) {
            // 顯示掃描結果在結果區域
            resultDiv.innerText = '掃描結果: ' + content;
        });

        // 啟動攝像頭
        Instascan.Camera.getCameras().then(function (cameras) {
            if (cameras.length > 0) {
                scanner.start(cameras[0]); // 使用第一個攝像頭
            } else {
                console.error('找不到攝像頭');
            }
        }).catch(function (error) {
            console.error(error);
        });
    </script>
</body>
</html>
